<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Analisi statica e traduzione di metodi</title>
    <link rel="stylesheet" type="text/css" href="../assets/reveal/reveal.css">
    <link rel="stylesheet" type="text/css" href="../assets/css/vs.css">
    <link rel="stylesheet" type="text/css" href="../assets/css/main.css">
  </head>
  <body>
    <div class="reveal">
      <div id="root" class="slides">
	<h1 class="no_toc" id="linguaggi-formali-e-traduttori">Linguaggi Formali e Traduttori</h1>

<h2 class="sezione" id="57-analisi-statica-e-traduzione-di-metodi">5.7 Analisi statica e traduzione di metodi</h2>

<ul class="smaller" id="markdown-toc">
  <li><a href="#sommario" id="markdown-toc-sommario">Sommario</a></li>
  <li><a href="#grammatica" id="markdown-toc-grammatica">Grammatica</a></li>
  <li><a href="#note" id="markdown-toc-note">Note</a></li>
  <li><a href="#esempio" id="markdown-toc-esempio">Esempio</a></li>
  <li><a href="#sdd-per-invocazione-di-un-metodo-e-ritorno" id="markdown-toc-sdd-per-invocazione-di-un-metodo-e-ritorno">SDD per invocazione di un metodo e ritorno</a></li>
  <li><a href="#verifica-della-presenza-di-return" id="markdown-toc-verifica-della-presenza-di-return">Verifica della presenza di <code class="language-plaintext highlighter-rouge">return</code></a></li>
  <li><a href="#sdd-per-la-verifica-della-presenza-di-return" id="markdown-toc-sdd-per-la-verifica-della-presenza-di-return">SDD per la verifica della presenza di <code class="language-plaintext highlighter-rouge">return</code></a></li>
  <li><a href="#allocazione-delle-variabili-locali" id="markdown-toc-allocazione-delle-variabili-locali">Allocazione delle variabili locali</a></li>
  <li><a href="#sdd-per-il-calcolo-degli-slot-di-variabili-locali" id="markdown-toc-sdd-per-il-calcolo-degli-slot-di-variabili-locali">SDD per il calcolo degli slot di variabili locali</a></li>
  <li><a href="#esempio-1" id="markdown-toc-esempio-1">Esempio</a></li>
  <li><a href="#calcolo-della-dimensione-massima-della-pila" id="markdown-toc-calcolo-della-dimensione-massima-della-pila">Calcolo della dimensione massima della pila</a></li>
  <li><a href="#sdd-per-pila-di-espressioni-aritmetiche" id="markdown-toc-sdd-per-pila-di-espressioni-aritmetiche">SDD per pila di espressioni aritmetiche</a></li>
  <li><a href="#esempio-associatività-degli-operatori" id="markdown-toc-esempio-associatività-degli-operatori">Esempio: associatività degli operatori</a></li>
  <li><a href="#sdd-per-pila-di-comandi-e-metodi" id="markdown-toc-sdd-per-pila-di-comandi-e-metodi">SDD per pila di comandi e metodi</a></li>
  <li><a href="#traduzione-di-metodi-statici" id="markdown-toc-traduzione-di-metodi-statici">Traduzione di metodi statici</a></li>
  <li><a href="#esercizi" id="markdown-toc-esercizi">Esercizi</a></li>
</ul>

<div class="license">

  <p>È proibito condividere e divulgare in qualsiasi forma i materiali
didattici caricati sulla piattaforma e le lezioni svolte in
videoconferenza: ogni azione che viola questa norma sarà denunciata
agli organi di Ateneo e perseguita a termini di legge.</p>

</div>

<h1 id="sommario">Sommario</h1>

<h2 id="problema">Problema</h2>

<ul>
  <li>La compilazione di un metodo comporta il calcolo della dimensione
del suo <strong>frame</strong>, che comprende le <strong>variabili locali</strong> e la
<strong>pila degli operandi</strong>.</li>
  <li>Il compilatore deve determinare questi valori <strong>senza eseguire il
codice del metodo</strong>.</li>
  <li>Il compilatore deve assicurarsi che un metodo con tipo di ritorno
diverso da <code class="language-plaintext highlighter-rouge">void</code> restituisca sempre un valore.</li>
</ul>

<h2 id="in-questa-lezione">In questa lezione</h2>

<ul>
  <li>Presentiamo le SDD per la definizione e l’invocazione di metodi.</li>
  <li>Introduciamo alcune semplici forme di <strong>analisi statica del
codice</strong> per calcolare la dimensione dei frame e individuare
metodi errati.</li>
</ul>

<h2 id="riferimenti-esterni">Riferimenti esterni</h2>

<ul>
  <li><a href="https://docs.oracle.com/javase/specs/index.html">Java Language and Virtual Machine Specifications</a></li>
  <li><a href="https://en.wikipedia.org/wiki/Java_bytecode_instruction_listings">JVM Instruction set</a></li>
</ul>

<h1 id="grammatica">Grammatica</h1>

<table class="sdd smaller">
  <thead>
    <tr>
      <th style="text-align: left">Produzioni</th>
      <th style="text-align: left">Descrizione</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">$E → …$</td>
      <td style="text-align: left">Come <a href="../slide/comp_e.html#grammatica">in precedenza</a></td>
    </tr>
    <tr>
      <td style="text-align: left">$E → m\tparens\Elist$</td>
      <td style="text-align: left">Invocazione di metodo</td>
    </tr>
    <tr>
      <td style="text-align: left">$\Elist → \es$</td>
      <td style="text-align: left">Nessun argomento</td>
    </tr>
    <tr>
      <td style="text-align: left">$\Elist → \Elistp$</td>
      <td style="text-align: left">Uno o più argomenti</td>
    </tr>
    <tr>
      <td style="text-align: left">$\Elistp → E$</td>
      <td style="text-align: left">Un argomento</td>
    </tr>
    <tr>
      <td style="text-align: left">$\Elistp → E\tcomma\Elistp$</td>
      <td style="text-align: left">Due o più argomenti</td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left"> </td>
    </tr>
    <tr>
      <td style="text-align: left">$S → …$</td>
      <td style="text-align: left">Come <a href="../slide/comp_s.html#grammatica">in precedenza</a></td>
    </tr>
    <tr>
      <td style="text-align: left">$S → \treturn~E\tsemi$</td>
      <td style="text-align: left">Ritorno da metodo</td>
    </tr>
    <tr>
      <td style="text-align: left">$\Slist → …$</td>
      <td style="text-align: left">Come <a href="../slide/comp_s.html#grammatica">in precedenza</a></td>
    </tr>
    <tr>
      <td style="text-align: left">$\Slist → T~x\teq E\tsemi\Slist$</td>
      <td style="text-align: left">Variabile locale</td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left"> </td>
    </tr>
    <tr>
      <td style="text-align: left">$M → T~m\tparens{T₁~x₁\tcomma … \tcomma T_n~x_n}~S$</td>
      <td style="text-align: left">Definizione di metodo</td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left"> </td>
    </tr>
    <tr>
      <td style="text-align: left">$T → \TVOID \mid \TINT \mid …$</td>
      <td style="text-align: left">Tipo</td>
    </tr>
  </tbody>
</table>

<h1 id="note">Note</h1>

<h2 id="sdd">SDD</h2>

<ul>
  <li>Le SDD presentate vanno integrate a quelle già presentate in
precedenza per la generazione del codice di <a href="../slide/comp_e.html">espressioni</a> e <a href="../slide/comp_s.html">comandi</a>.</li>
</ul>

<h2 id="metodi-non-statici">Metodi non statici</h2>

<ul>
  <li>
    <p>Consideriamo solo <strong>metodi statici</strong>.</p>
  </li>
  <li>
    <p>I metodi <strong>non statici</strong> hanno un argomento implicito <code class="language-plaintext highlighter-rouge">this</code>
(l’<strong>oggetto ricevente</strong>).</p>
  </li>
</ul>

<h2 id="tipo-di-ritorno">Tipo di ritorno</h2>

<ul>
  <li>
    <p>Consideriamo solo metodi che restituiscono un valore intero.</p>
  </li>
  <li>
    <p>I metodi con tipo di ritorno <code class="language-plaintext highlighter-rouge">void</code> non possono essere invocati
all’interno di un’espressione.</p>
  </li>
</ul>

<h1 id="esempio">Esempio</h1>

<div class="row ">

  <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">fibo</span><span class="o">(</span><span class="kt">int</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="o">)</span> <span class="k">return</span> <span class="n">n</span><span class="o">;</span>
    <span class="k">else</span> <span class="k">return</span> <span class="nf">fibo</span><span class="o">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="o">)</span> <span class="o">+</span> <span class="n">fibo</span><span class="o">(</span><span class="n">n</span><span class="o">-</span><span class="mi">2</span><span class="o">);</span>
<span class="o">}</span>

<span class="kt">int</span> <span class="nf">fibo</span><span class="o">(</span><span class="kt">int</span> <span class="n">k</span><span class="o">)</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
    <span class="k">while</span> <span class="o">(</span><span class="n">k</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">t</span> <span class="o">=</span> <span class="n">m</span><span class="o">;</span>
        <span class="n">m</span> <span class="o">=</span> <span class="n">n</span><span class="o">;</span>
        <span class="n">n</span> <span class="o">=</span> <span class="n">m</span> <span class="o">+</span> <span class="n">n</span><span class="o">;</span>
        <span class="n">k</span> <span class="o">=</span> <span class="n">k</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="n">m</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div>  </div>

  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.method fibo(I)I
    .limit stack 3
    .limit locals 1
    ...

.method fibo(I)I
    .limit stack 2
    .limit locals 4

    ...
    ...
    ...
</code></pre></div>  </div>

</div>

<h2 id="dimensione-del-frame-di-un-metodo">Dimensione del frame di un metodo</h2>

<ul>
  <li><em class="hl">Numero di argomenti e variabili locali</em> del metodo
(<code class="language-plaintext highlighter-rouge">locals=1</code> e <code class="language-plaintext highlighter-rouge">locals=4</code>).</li>
  <li><em class="hl">Dimensione massima della pila degli operandi</em> (<code class="language-plaintext highlighter-rouge">stack=3</code> e
<code class="language-plaintext highlighter-rouge">stack=2</code>).</li>
</ul>

<h1 id="sdd-per-invocazione-di-un-metodo-e-ritorno">SDD per invocazione di un metodo e ritorno</h1>

<div class="row ">

  <div class="">

    <table class="sdd smaller">
      <thead>
        <tr>
          <th style="text-align: left">Produzioni</th>
          <th style="text-align: left">Regole semantiche</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td style="text-align: left">$E → m\tparens\Elist$</td>
          <td style="text-align: left">$E.\code = \Elist.\code \ap \IINVOKESTATIC~m$</td>
        </tr>
        <tr>
          <td style="text-align: left"> </td>
          <td style="text-align: left"> </td>
        </tr>
        <tr>
          <td style="text-align: left">$\Elist → \es$</td>
          <td style="text-align: left">$\Elist.\code = []$</td>
        </tr>
        <tr>
          <td style="text-align: left">$\Elist → \Elistp$</td>
          <td style="text-align: left">$\Elist.\code = \Elistp.\code$</td>
        </tr>
        <tr>
          <td style="text-align: left"> </td>
          <td style="text-align: left"> </td>
        </tr>
        <tr>
          <td style="text-align: left">$\Elistp → E$</td>
          <td style="text-align: left">$\Elistp.\code = E.\code$</td>
        </tr>
        <tr>
          <td style="text-align: left">$\Elistp → E\tcomma\Elistp₁$</td>
          <td style="text-align: left">$\Elistp.\code = E.\code \ap \Elistp₁.\code$</td>
        </tr>
        <tr>
          <td style="text-align: left"> </td>
          <td style="text-align: left"> </td>
        </tr>
        <tr>
          <td style="text-align: left">$S → \treturn~E\tsemi$</td>
          <td style="text-align: left">$S.\code = E.\code \ap \IIRETURN$</td>
        </tr>
      </tbody>
    </table>

    <div class="jekyll-diagrams diagrams graphviz">
      <p><!-- Generated by graphviz version 5.0.1 (20220820.1526)
 -->
<!-- Pages: 1 --></p>
      <svg width="127pt" height="149pt" viewBox="0.00 0.00 127.00 149.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 145)">
<g id="clust1" class="cluster">
<title>cluster_B</title>
<path fill="none" stroke="black" d="M20,-8C20,-8 99,-8 99,-8 105,-8 111,-14 111,-20 111,-20 111,-121 111,-121 111,-127 105,-133 99,-133 99,-133 20,-133 20,-133 14,-133 8,-127 8,-121 8,-121 8,-20 8,-20 8,-14 14,-8 20,-8" />
<text text-anchor="middle" x="59.5" y="-117.8" font-family="Overlock" font-size="14.00">E → return E₁;</text>
</g>
<!-- E₁ -->
<g id="node1" class="node">
<title>E₁</title>
<path fill="none" stroke="black" d="M74,-102C74,-102 44,-102 44,-102 38,-102 32,-96 32,-90 32,-90 32,-78 32,-78 32,-72 38,-66 44,-66 44,-66 74,-66 74,-66 80,-66 86,-72 86,-78 86,-78 86,-90 86,-90 86,-96 80,-102 74,-102" />
<text text-anchor="middle" x="59" y="-80.3" font-family="Overlock" font-size="14.00">E₁</text>
</g>
<!-- return -->
<g id="node2" class="node">
<title>return</title>
<polygon fill="#cccccc" stroke="black" points="86.5,-52 31.5,-52 31.5,-16 86.5,-16 86.5,-52" />
<text text-anchor="middle" x="59" y="-30.3" font-family="Overlock" font-size="14.00">ireturn</text>
</g>
<!-- E₁&#45;&gt;return -->
<g id="edge1" class="edge">
<title>E₁&#45;&gt;return</title>
<path fill="none" stroke="black" d="M59,-65.94C59,-63.11 59,-60.14 59,-57.21" />
<polygon fill="black" stroke="black" points="60.75,-57 59,-52 57.25,-57 60.75,-57" />
</g>
</g>
</svg>

    </div>

  </div>

  <div class="jekyll-diagrams diagrams graphviz">
    <p><!-- Generated by graphviz version 5.0.1 (20220820.1526)
 -->
<!-- Pages: 1 --></p>
    <svg width="157pt" height="299pt" viewBox="0.00 0.00 157.00 299.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 295)">
<g id="clust1" class="cluster">
<title>cluster_B</title>
<path fill="none" stroke="black" d="M20,-8C20,-8 129,-8 129,-8 135,-8 141,-14 141,-20 141,-20 141,-271 141,-271 141,-277 135,-283 129,-283 129,-283 20,-283 20,-283 14,-283 8,-277 8,-271 8,-271 8,-20 8,-20 8,-14 14,-8 20,-8" />
<text text-anchor="middle" x="74.5" y="-267.8" font-family="Overlock" font-size="14.00">E → m(E₁,E₂,...,En)</text>
</g>
<!-- E₁ -->
<g id="node1" class="node">
<title>E₁</title>
<path fill="none" stroke="black" d="M89,-252C89,-252 59,-252 59,-252 53,-252 47,-246 47,-240 47,-240 47,-228 47,-228 47,-222 53,-216 59,-216 59,-216 89,-216 89,-216 95,-216 101,-222 101,-228 101,-228 101,-240 101,-240 101,-246 95,-252 89,-252" />
<text text-anchor="middle" x="74" y="-230.3" font-family="Overlock" font-size="14.00">E₁</text>
</g>
<!-- E₂ -->
<g id="node2" class="node">
<title>E₂</title>
<path fill="none" stroke="black" d="M89,-202C89,-202 59,-202 59,-202 53,-202 47,-196 47,-190 47,-190 47,-178 47,-178 47,-172 53,-166 59,-166 59,-166 89,-166 89,-166 95,-166 101,-172 101,-178 101,-178 101,-190 101,-190 101,-196 95,-202 89,-202" />
<text text-anchor="middle" x="74" y="-180.3" font-family="Overlock" font-size="14.00">E₂</text>
</g>
<!-- E₁&#45;&gt;E₂ -->
<g id="edge1" class="edge">
<title>E₁&#45;&gt;E₂</title>
<path fill="none" stroke="black" d="M74,-215.94C74,-213.11 74,-210.14 74,-207.21" />
<polygon fill="black" stroke="black" points="75.75,-207 74,-202 72.25,-207 75.75,-207" />
</g>
<!-- dots -->
<g id="node3" class="node">
<title>dots</title>
<text text-anchor="middle" x="74" y="-130.3" font-family="Overlock" font-size="14.00">⋮</text>
</g>
<!-- E₂&#45;&gt;dots -->
<g id="edge2" class="edge">
<title>E₂&#45;&gt;dots</title>
<path fill="none" stroke="black" d="M74,-165.94C74,-163.11 74,-160.14 74,-157.21" />
<polygon fill="black" stroke="black" points="75.75,-157 74,-152 72.25,-157 75.75,-157" />
</g>
<!-- En -->
<g id="node4" class="node">
<title>En</title>
<path fill="none" stroke="black" d="M89,-102C89,-102 59,-102 59,-102 53,-102 47,-96 47,-90 47,-90 47,-78 47,-78 47,-72 53,-66 59,-66 59,-66 89,-66 89,-66 95,-66 101,-72 101,-78 101,-78 101,-90 101,-90 101,-96 95,-102 89,-102" />
<text text-anchor="middle" x="74" y="-80.3" font-family="Overlock" font-size="14.00">En</text>
</g>
<!-- dots&#45;&gt;En -->
<g id="edge3" class="edge">
<title>dots&#45;&gt;En</title>
<path fill="none" stroke="black" d="M74,-115.94C74,-113.11 74,-110.14 74,-107.21" />
<polygon fill="black" stroke="black" points="75.75,-107 74,-102 72.25,-107 75.75,-107" />
</g>
<!-- invoke -->
<g id="node5" class="node">
<title>invoke</title>
<polygon fill="#cccccc" stroke="black" points="125.5,-52 22.5,-52 22.5,-16 125.5,-16 125.5,-52" />
<text text-anchor="middle" x="74" y="-30.3" font-family="Overlock" font-size="14.00">invokestatic m</text>
</g>
<!-- En&#45;&gt;invoke -->
<g id="edge4" class="edge">
<title>En&#45;&gt;invoke</title>
<path fill="none" stroke="black" d="M74,-65.94C74,-63.11 74,-60.14 74,-57.21" />
<polygon fill="black" stroke="black" points="75.75,-57 74,-52 72.25,-57 75.75,-57" />
</g>
</g>
</svg>

  </div>

</div>

<h1 id="verifica-della-presenza-di-return">Verifica della presenza di <code class="language-plaintext highlighter-rouge">return</code></h1>

<h2 id="problema-1">Problema</h2>

<ul>
  <li>Un metodo con tipo di ritorno diverso da <code class="language-plaintext highlighter-rouge">void</code> deve restituire un
<strong>risultato</strong> al chiamante per mezzo del comando <code class="language-plaintext highlighter-rouge">return</code>.</li>
</ul>

<h2 id="strategia-per-lanalisi">Strategia per l’analisi</h2>

<ul>
  <li>Si analizza il codice del metodo per verificare che <em>ogni cammino
di esecuzione</em> porti dall’inizio del metodo a una istruzione
<code class="language-plaintext highlighter-rouge">return</code>.</li>
  <li>L’analisi è <strong>statica</strong>, dunque non tiene conto dell’effettivo
flusso di esecuzione del metodo e <em>non garantisce che <code class="language-plaintext highlighter-rouge">return</code> sia
davvero eseguito</em>, per esempio se l’esecuzione entra in un <strong>ciclo
infinito</strong> o se viene <strong>lanciata un’eccezione</strong> (es. divisione per
zero).</li>
</ul>

<h2 id="approssimazioni">Approssimazioni</h2>

<ul>
  <li>Non teniamo conto del valore delle espressioni logiche in comandi
condizionali e cicli, anche quando sono banali (es. <code class="language-plaintext highlighter-rouge">true</code>). In
generale questo problema è <strong>indecidibile</strong>.</li>
  <li>Non controlliamo se il valore restituito da <code class="language-plaintext highlighter-rouge">return</code> è del <em>tipo
giusto</em>. Questo controllo richiede una forma aggiuntiva di analisi
statica detta <strong>controllo dei tipi</strong>.</li>
</ul>

<h1 id="sdd-per-la-verifica-della-presenza-di-return">SDD per la verifica della presenza di <code class="language-plaintext highlighter-rouge">return</code></h1>

<div class="row ">
  <div class="">

    <h2 id="sdd">SDD</h2>

    <table class="sdd smaller margin-right">
      <thead>
        <tr>
          <th style="text-align: left">Produzioni</th>
          <th style="text-align: left">Regole semantiche</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td style="text-align: left">$S → x \teq E\tsemi$</td>
          <td style="text-align: left">$S.\ret = \false$</td>
        </tr>
        <tr>
          <td style="text-align: left">$S → \ttIf~\tparens{B}~S₁$</td>
          <td style="text-align: left">$S.\ret = \false$</td>
        </tr>
        <tr>
          <td style="text-align: left">$S → \ttIf~\tparens{B}~S₁~\ttElse~S₂$</td>
          <td style="text-align: left"><del>$S.\ret = S₁.\ret ∧ S₂.\ret$</del></td>
        </tr>
        <tr>
          <td style="text-align: left">$S → \twhile~\tparens{B}~S₁$</td>
          <td style="text-align: left">$S.\ret = \false$</td>
        </tr>
        <tr>
          <td style="text-align: left">$S → \tdo~S₁~\twhile~\tparens{B}\tsemi$</td>
          <td style="text-align: left"><del>$S.\ret = S₁.\ret$</del></td>
        </tr>
        <tr>
          <td style="text-align: left">$S → \tbraces\Slist$</td>
          <td style="text-align: left">$S.\ret = \Slist.\ret$</td>
        </tr>
        <tr>
          <td style="text-align: left">$S → \treturn~E\tsemi$</td>
          <td style="text-align: left"><del>$S.\ret = \true$</del></td>
        </tr>
        <tr>
          <td style="text-align: left"> </td>
          <td style="text-align: left"> </td>
        </tr>
        <tr>
          <td style="text-align: left">$\Slist → \es$</td>
          <td style="text-align: left">$\Slist.\ret = \false$</td>
        </tr>
        <tr>
          <td style="text-align: left">$\Slist → S~\Slist₁$</td>
          <td style="text-align: left"><del>$\Slist.\ret = S.\ret ∨ \Slist₁.\ret$</del></td>
        </tr>
        <tr>
          <td style="text-align: left">$\Slist → T~x\teq E\tsemi\Slist₁$</td>
          <td style="text-align: left">$\Slist.\ret = \Slist₁.\ret$</td>
        </tr>
      </tbody>
    </table>

  </div>
  <div class="">

    <h2 id="attributi">Attributi</h2>

    <ul>
      <li>$S.\ret$ = se l’esecuzione di $S$ termina, è perché esegue
$\treturn$</li>
    </ul>

    <div class="fragment ">
      <h2 id="note">Note</h2>

      <ul>
        <li>In una sequenza $S~\Slist$ in cui $S.\ret = \true$ la
continuazione $\Slist$ <em>non viene mai eseguita</em> ed è detta
<strong>codice morto</strong>.</li>
        <li>La presenza di codice morto <em>non impedisce la compilazione</em> ma è
<em class="hl">probabilmente sintomo di un errore</em>.</li>
        <li>Il compilatore lo segnala con un <strong>avvertimento</strong> (<strong>warning</strong>) o
un <strong>errore</strong> (es. <code class="language-plaintext highlighter-rouge">javac</code>).</li>
      </ul>

    </div>
  </div>
</div>

<h1 id="allocazione-delle-variabili-locali">Allocazione delle variabili locali</h1>

<h2 id="problema-2">Problema</h2>

<ul>
  <li>Determinare il <strong>più piccolo numero di slot</strong> necessari
all’interno di un frame per la memorizzazione di argomenti e
variabili locali (“più piccolo” = <em>risparmio di memoria</em>).</li>
</ul>

<h2 id="strategia">Strategia</h2>

<ul>
  <li>Determinare il <strong>numero massimo</strong> di variabili che sono
<strong>contemporaneamente attive</strong>.</li>
</ul>

<h2 id="esempi">Esempi</h2>

<div class="row ">

  <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">sequenza</span><span class="o">()</span> <span class="o">{</span>
  <span class="o">{</span>
    <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">42</span><span class="o">;</span>
  <span class="o">}</span>
  <span class="o">{</span>
    <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">15</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>  </div>

  <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">alternativa</span><span class="o">()</span> <span class="o">{</span>
  <span class="k">if</span> <span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">42</span><span class="o">;</span>
  <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">15</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>  </div>
</div>

<ul>
  <li>In entrambi i casi <code class="language-plaintext highlighter-rouge">x</code> ed <code class="language-plaintext highlighter-rouge">y</code> non sono <strong>mai</strong> attive
contemporaneamente e possono <strong>condividere lo stesso slot</strong> nel
frame del metodo.</li>
</ul>

<h1 id="sdd-per-il-calcolo-degli-slot-di-variabili-locali">SDD per il calcolo degli slot di variabili locali</h1>

<table class="sdd smaller">
  <thead>
    <tr>
      <th style="text-align: left">Produzioni</th>
      <th style="text-align: left">Regole semantiche</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">$S → x \teq E\tsemi$</td>
      <td style="text-align: left">$S.\locals = 0$</td>
    </tr>
    <tr>
      <td style="text-align: left">$S → \ttIf~\tparens{B}~S₁$</td>
      <td style="text-align: left">$S.\locals = S₁.\locals$</td>
    </tr>
    <tr>
      <td style="text-align: left">$S → \ttIf~\tparens{B}~S₁~\ttElse~S₂$</td>
      <td style="text-align: left"><del>$S.\locals = \max\set{S₁.\locals, S₂.\locals}$</del></td>
    </tr>
    <tr>
      <td style="text-align: left">$S → \twhile~\tparens{B}~S₁$</td>
      <td style="text-align: left">$S.\locals = S₁.\locals$</td>
    </tr>
    <tr>
      <td style="text-align: left">$S → \tdo~S₁~\twhile~\tparens{B}\tsemi$</td>
      <td style="text-align: left">$S.\locals = S₁.\locals$</td>
    </tr>
    <tr>
      <td style="text-align: left">$S → \tbraces\Slist$</td>
      <td style="text-align: left">$S.\locals = \Slist.\locals$</td>
    </tr>
    <tr>
      <td style="text-align: left">$S → \treturn~E\tsemi$</td>
      <td style="text-align: left">$S.\locals = 0$</td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left"> </td>
    </tr>
    <tr>
      <td style="text-align: left">$\Slist → \es$</td>
      <td style="text-align: left">$\Slist.\locals = 0$</td>
    </tr>
    <tr>
      <td style="text-align: left">$\Slist → S~\Slist₁$</td>
      <td style="text-align: left"><del>$\Slist.\locals = \max\set{S.\locals, \Slist₁.\locals}$</del></td>
    </tr>
    <tr>
      <td style="text-align: left">$\Slist → T~x\teq E\tsemi\Slist₁$</td>
      <td style="text-align: left"><del>$\Slist.\locals = 1 + \Slist₁.\locals$</del></td>
    </tr>
  </tbody>
</table>

<ul>
  <li>$S.\locals$ = max numero di variabili contemporaneamente attive
 durante esecuzione di $S$</li>
</ul>

<h1 id="esempio-1">Esempio</h1>

<div class="row ">
  <div class="">
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">sequenza</span><span class="o">()</span> <span class="o">{</span>
  <span class="o">{</span>
    <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">42</span><span class="o">;</span>
  <span class="o">}</span>
  <span class="o">{</span>
    <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">15</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>    </div>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.method sequenza()V
    .limit locals 1
    ldc 42
    istore 0 ; x
    goto L1
L1: ldc 15
    istore 0 ; y
    goto L0
L0: return
.end method
</code></pre></div>    </div>
  </div>
  <div class="">
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">alternativa</span><span class="o">()</span> <span class="o">{</span>
  <span class="k">if</span> <span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">42</span><span class="o">;</span>
  <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">15</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>

</code></pre></div>    </div>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.method alternativa()V
    .limit locals 1
    goto L3
L3: ldc 42
    istore 0 ; x
    goto L2
L4: ldc 15
    istore 0 ; y
    goto L2
L2: return
.end method
</code></pre></div>    </div>
  </div>
</div>

<p><strong>Nota</strong>: <code class="language-plaintext highlighter-rouge">x</code> ed <code class="language-plaintext highlighter-rouge">y</code> <em>condividono lo stesso slot</em> 0 nei frame dei
due metodi.</p>

<h1 id="calcolo-della-dimensione-massima-della-pila">Calcolo della dimensione massima della pila</h1>

<h2 id="problema-3">Problema</h2>

<ul>
  <li>Determinare il <strong>numero massimo di slot</strong> occupati sulla pila
degli operandi durante l’esecuzione di un metodo.</li>
</ul>

<h2 id="strategia-1">Strategia</h2>

<ul>
  <li>Tenendo conto del codice prodotto dalla traduzione di espressioni
e comandi, <strong>approssimare per eccesso</strong> la dimensione massima
della pila.</li>
</ul>

<h2 id="esempio-2">Esempio</h2>

<div class="row ">

  <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">metodo</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>
    <span class="k">else</span> <span class="k">return</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="mi">3</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div>  </div>

  <div class="">
    <div class="skip" style="margin-top: -4rem"></div>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.method metodo()I
    .limit stack 3
    .limit locals 0
    goto L1
L1: ldc 0
    ireturn
L2: ldc 1
    ldc 2
    ldc 3
    imul
    iadd
    ireturn
.end method
</code></pre></div>    </div>
  </div>
</div>

<h1 id="sdd-per-pila-di-espressioni-aritmetiche">SDD per pila di espressioni aritmetiche</h1>

<div class="row ">

  <table class="sdd smaller">
    <thead>
      <tr>
        <th style="text-align: left">Produzioni</th>
        <th style="text-align: left">Regole semantiche</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td style="text-align: left">$E → E₁ \tplus E₂$</td>
        <td style="text-align: left"><del>$E.\stack = \max\set{E₁.\stack, 1 + E₂.\stack}$</del></td>
      </tr>
      <tr>
        <td style="text-align: left">$E → \tparens{E₁}$</td>
        <td style="text-align: left">$E.\stack = E₁.\stack$</td>
      </tr>
      <tr>
        <td style="text-align: left">$E → \tnum$</td>
        <td style="text-align: left">$E.\stack = 1$</td>
      </tr>
      <tr>
        <td style="text-align: left">$E → x$</td>
        <td style="text-align: left">$E.\stack = 1$</td>
      </tr>
      <tr>
        <td style="text-align: left">$E → m\tparens\Elist$</td>
        <td style="text-align: left"><del>$E.\stack = \max\set{1, \Elist.\stack}$</del></td>
      </tr>
      <tr>
        <td style="text-align: left"> </td>
        <td style="text-align: left"> </td>
      </tr>
      <tr>
        <td style="text-align: left">$\Elist → \es$</td>
        <td style="text-align: left">$\Elist.\stack = 0$</td>
      </tr>
      <tr>
        <td style="text-align: left">$\Elist → \Elistp$</td>
        <td style="text-align: left">$\Elist.\stack = \Elistp.\stack$</td>
      </tr>
      <tr>
        <td style="text-align: left"> </td>
        <td style="text-align: left"> </td>
      </tr>
      <tr>
        <td style="text-align: left">$\Elistp → E$</td>
        <td style="text-align: left">$\Elistp.\stack = E.\stack$</td>
      </tr>
      <tr>
        <td style="text-align: left">$\Elistp → E\tcomma\Elistp₁$</td>
        <td style="text-align: left"><del>$\Elistp.\stack = \max\set{E.\stack, 1 + \Elistp₁.\stack}$</del></td>
      </tr>
    </tbody>
  </table>

</div>

<ul>
  <li>$E.\stack$ = dimensione massima della pila durante la valutazione
di $E$ ($E.\stack \geq 1$)</li>
  <li>$\Elist.\stack$ = dimensione massima della pila durante la
valutazione cumulata di tutte le espressioni generate da $\Elist$
($\Elist.\stack \geq 0$)</li>
  <li>Nel caso $E → m\tparens\Elist$, l’$1$ serve per tenere conto del
<em class="hl">valore restituito dal metodo</em>.</li>
</ul>

<h1 id="esempio-associatività-degli-operatori">Esempio: associatività degli operatori</h1>

<div class="row ">
  <div class="">

    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">sinistra</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">3</span> <span class="o">+</span> <span class="mi">4</span> <span class="o">+</span> <span class="mi">5</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div>    </div>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.method sinistra()I
    .limit stack 2
    .limit locals 0
    ldc 1
    ldc 2
    iadd
    ldc 3
    iadd
    ldc 4
    iadd
    ldc 5
    iadd
    ireturn
.end method
</code></pre></div>    </div>

  </div>
  <div class="">

    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">destra</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="mi">1</span> <span class="o">+</span> <span class="o">(</span><span class="mi">2</span> <span class="o">+</span> <span class="o">(</span><span class="mi">3</span> <span class="o">+</span> <span class="o">(</span><span class="mi">4</span> <span class="o">+</span> <span class="mi">5</span><span class="o">)));</span>
<span class="o">}</span>
</code></pre></div>    </div>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.method destra()I
    .limit stack 5
    .limit locals 0
    ldc 1
    ldc 2
    ldc 3
    ldc 4
    ldc 5
    iadd
    iadd
    iadd
    iadd
    ireturn
.end method
</code></pre></div>    </div>

  </div>
</div>

<h2 id="osservazione">Osservazione</h2>

<ul>
  <li>L’associatività a <em>sinistra</em> mantiene la pila piccola perché le
sottoespressioni vengono valutate man mano che si incontrano, da
sinistra verso destra.</li>
</ul>

<h1 id="sdd-per-pila-di-comandi-e-metodi">SDD per pila di comandi e metodi</h1>

<table class="sdd smaller">
  <thead>
    <tr>
      <th style="text-align: left">Produzioni</th>
      <th style="text-align: left">Regole semantiche</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">$S → x \teq E\tsemi$</td>
      <td style="text-align: left">$S.\stack = E.\stack$</td>
    </tr>
    <tr>
      <td style="text-align: left">$S → \ttIf~\tparens{B}~S₁$</td>
      <td style="text-align: left">$S.\stack = \max\set{B.\stack, S₁.\stack}$</td>
    </tr>
    <tr>
      <td style="text-align: left">$S → \ttIf~\tparens{B}~S₁~\ttElse~S₂$</td>
      <td style="text-align: left">$S.\stack = \max\set{B.\stack, S₁.\stack, S₂.\stack}$</td>
    </tr>
    <tr>
      <td style="text-align: left">$S → \twhile~\tparens{B}~S₁$</td>
      <td style="text-align: left">$S.\stack = \max\set{B.\stack, S₁.\stack}$</td>
    </tr>
    <tr>
      <td style="text-align: left">$S → \tdo~S₁~\twhile~\tparens{B}\tsemi$</td>
      <td style="text-align: left">$S.\stack = \max\set{S₁.\stack, B.\stack}$</td>
    </tr>
    <tr>
      <td style="text-align: left">$S → \tbraces\Slist$</td>
      <td style="text-align: left">$S.\stack = \Slist.\stack$</td>
    </tr>
    <tr>
      <td style="text-align: left">$S → \treturn~E\tsemi$</td>
      <td style="text-align: left">$S.\stack = E.\stack$</td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left"> </td>
    </tr>
    <tr>
      <td style="text-align: left">$\Slist → \es$</td>
      <td style="text-align: left">$\Slist.\stack = 0$</td>
    </tr>
    <tr>
      <td style="text-align: left">$\Slist → S~\Slist₁$</td>
      <td style="text-align: left">$\Slist.\stack = \max\set{S.\stack, \Slist₁.\stack}$</td>
    </tr>
    <tr>
      <td style="text-align: left">$\Slist → T~x\teq E\tsemi\Slist₁$</td>
      <td style="text-align: left">$\Slist.\stack = \max\set{E.\stack, \Slist₁.\stack}$</td>
    </tr>
  </tbody>
</table>

<ul>
  <li>$B.\stack$ = dimensione massima della pila durante la valutazione
di $B$ (definire SDD come esercizio)</li>
  <li>$S.\stack$ = dimensione massima della pila durante l’esecuzione di $S$</li>
</ul>

<h1 id="traduzione-di-metodi-statici">Traduzione di metodi statici</h1>

<table class="sdd smaller">
  <thead>
    <tr>
      <th style="text-align: left">Produzioni</th>
      <th style="text-align: left">Regole semantiche</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">$M → \TVOID~m\tparens{T₁~x₁\tcomma … \tcomma T_n~x_n}~S$</td>
      <td style="text-align: left">$S.\next = \newlabel()$</td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left">$M.\code = \verb’.method’~m$</td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left"><del>${} \ap \verb’.limit stack’~S.\stack$</del></td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left"><del>${} \ap \verb’.limit locals’~n + S.\locals$</del></td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left">${} \ap S.code$</td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left"><del>${} \ap S.\next : \IRETURN$ (se $S.\ret = \false$)</del></td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left">${} \ap \verb’.end method’$</td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left"> </td>
    </tr>
    <tr>
      <td style="text-align: left">$M → \TINT~m\tparens{T₁~x₁\tcomma … \tcomma T_n~x_n}~S$</td>
      <td style="text-align: left">$S.\next = \newlabel()$ <del>(etichetta inutilizzata)</del></td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left">$M.\code = \verb’.method’~m$</td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left">${} \ap \verb’.limit stack’~S.\stack$</td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left">${} \ap \verb’.limit locals’~n + S.\locals$</td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left">${} \ap S.code$</td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left">${} \ap \verb’.end method’$ <del>(se $S.\ret = \false$ errore)</del></td>
    </tr>
  </tbody>
</table>

<h1 id="esercizi">Esercizi</h1>

<ol>
  <li>Tradurre i seguenti metodi:
    <div class="row ">
      <div class="column ">
        <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">min</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">,</span> <span class="kt">int</span> <span class="n">y</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="n">y</span><span class="o">)</span> <span class="k">return</span> <span class="n">x</span><span class="o">;</span>
    <span class="k">else</span> <span class="k">return</span> <span class="n">y</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div>        </div>

        <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">euclide</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">b</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">a</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="k">return</span> <span class="n">b</span><span class="o">;</span>
    <span class="k">while</span> <span class="o">(</span><span class="n">b</span> <span class="o">!=</span> <span class="mi">0</span><span class="o">)</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">a</span> <span class="o">&gt;</span> <span class="n">b</span><span class="o">)</span> <span class="n">a</span> <span class="o">=</span> <span class="n">a</span> <span class="o">-</span> <span class="n">b</span><span class="o">;</span>
        <span class="k">else</span> <span class="n">b</span> <span class="o">=</span> <span class="n">b</span> <span class="o">-</span> <span class="n">a</span><span class="o">;</span>
    <span class="k">return</span> <span class="n">a</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div>        </div>

      </div>

      <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">primo</span><span class="o">(</span><span class="kt">int</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
    <span class="k">while</span> <span class="o">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">n</span> <span class="o">%</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span>
            <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>
        <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">n</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="o">)</span> <span class="k">return</span> <span class="mi">1</span><span class="o">;</span>
    <span class="k">else</span> <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div>      </div>

    </div>
  </li>
  <li>Scrivere le regole semantiche per calcolare $E.\stack$ nel caso
della produzione $E → B~\tqmark~E₁~\tcolon~E₂$.</li>
  <li>Scrivere le regole semantiche per calcolare $S.\locals$ e
$S.\stack$ per il <em>ciclo <code class="language-plaintext highlighter-rouge">for</code></em> $S → \tfor~\tparens{S₁\tsemi
B\tsemi S₂}~S₃$.</li>
</ol>

      </div>
    </div>
    <script type="text/javascript" src="../js/slider.js"></script>
    <script type="text/javascript" src="../assets/reveal/reveal.js"></script>
    <script>
      initialize_slider();
      Reveal.initialize({
	  controls:    false,  // No control arrows
	  slideNumber: 'c/t',  // Print slide number
	  center:      false,  // Do not align slide vertically
	  progress:    false,  // Do not display progress bar
	  hash:        true,   // Store slide number in URL
	  touch:       true,   // Enables touch navigation
	  transition:  'none', // Transition mode
	  transitionSpeed: 'fast',
	  pdfSeparateFragments: true,
	  pdfMaxPagesPerSlide: 1,
	  pdfPageHeightOffset: -1,
	  width: 846,
	  height: 600,
	  margin: 0.05,
      });
    </script>
    <script type="text/javascript" src="../js/mathjax.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
  </body>
</html>
